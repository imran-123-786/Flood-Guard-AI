<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flood Guard â€“ Official Flood Safety System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
</head>
<body>

<!-- Background video -->
<video id="bg-video" autoplay muted loop playsinline>
    <source src="video/rain_background.mp4" type="video/mp4">
</video>
<div id="video-overlay"></div>

<header>
    <div class="app-title">ğŸŒŠ Flood Guard</div>
    <div class="top-nav">
        <div class="nav-menu">
            <button onclick="showSection('dashboard')" class="active">Dashboard</button>
            <button onclick="showSection('alerts')">Alerts</button>
            <button onclick="showSection('prediction')">Prediction</button>
            <button onclick="showSection('shelter')">Shelter</button>
            <button onclick="showSection('route')">Route</button>
            <button onclick="showSection('radar')">Radar</button>
            <button onclick="showSection('report')">Report</button>
            <button onclick="showSection('rescue')">Rescue</button>
            <button onclick="showSection('history')">History</button>
            <button onclick="showSection('community')">Community</button>
            <button onclick="showSection('account')">Account</button>
        </div>
    </div>
</header>

<main>

    <!-- DASHBOARD -->
    <section id="dashboard" class="section active">
        <h2>ğŸ“ Live Dashboard</h2>
        <p><strong>Location:</strong> <span id="user-location">Detecting...</span></p>

        <div class="status-cards">
            <div class="card"><strong>Temperature</strong><p id="temp">--Â°C</p></div>
            <div class="card"><strong>Rainfall</strong><p id="rain">-- mm</p></div>
            <div class="card"><strong>Humidity</strong><p id="humidity">--%</p></div>
            <div class="card"><strong>Battery</strong><p id="battery-status">--%</p></div>
        </div>

        <div class="map-container">
            <h3>ğŸ—º Flood Map</h3>
            <div id="map"></div>
        </div>

        <div class="risk-indicator">
            <h3>Flood Risk Level: <span id="risk-text">Loading...</span></h3>
            <div id="risk-color"></div>
        </div>
    </section>

    <!-- ALERTS -->
    <section id="alerts" class="section">
        <h2>ğŸš¨ Flood Alerts</h2>
        <div id="alerts-container">
            <p>Alerts will be generated automatically based on AI predictions and reports.</p>
        </div>
    </section>

    <!-- PREDICTION -->
    <section id="prediction" class="section">
        <h2>ğŸ¤– AI Model Prediction</h2>
        <p>Flood Guard uses AI (rules + ML-ready) to estimate risk level based on weather and history.</p>
        <button onclick="runPrediction()">Run AI Prediction</button>
        <p><strong>Predicted Level:</strong> <span id="predicted-level">--</span></p>
    </section>

    <!-- SHELTER -->
    <section id="shelter" class="section">
        <h2>ğŸš Nearby Safe Shelters</h2>
        <p>Based on GPS, updated from backend.</p>
        <div id="shelter-list">Loading shelters...</div>
    </section>

    <!-- ROUTE -->
    <section id="route" class="section">
        <h2>ğŸš— Safe Route Navigation</h2>
        <button id="find-route">Find Safe Route</button>
        <p id="route-result">Waiting...</p>
    </section>

    <!-- RADAR -->
    <section id="radar" class="section">
        <h2>ğŸ›° Real-Time Weather Radar</h2>
        <iframe id="radar-map"
            src="https://www.rainviewer.com/map.html"
            style="width:100%; height:400px; border:none;">
        </iframe>
    </section>

    <!-- REPORT -->
    <section id="report" class="section">
        <h2>ğŸ“ Report Flood Situation</h2>
        <textarea id="report-text" placeholder="Describe flooding, road blockage, damages, people stuck..."></textarea>
        <button onclick="submitReport()">Submit Report</button>
    </section>

    <!-- RESCUE -->
    <section id="rescue" class="section">
        <h2>ğŸ†˜ Rescue & Emergency</h2>
        <button onclick="triggerSOS()" class="sos-btn">ğŸš¨ SOS Emergency</button>
        <div class="contact-list">
            <p><strong>ğŸš‘ Ambulance:</strong> 108</p>
            <p><strong>ğŸ”¥ Fire:</strong> 101</p>
            <p><strong>ğŸ‘® Police:</strong> 100</p>
        </div>
    </section>

    <!-- HISTORY -->
    <section id="history" class="section">
        <h2>ğŸ“„ Activity History</h2>
        <div id="history-data">No data yet.</div>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="section">
        <h2>â¤ï¸ Community Support</h2>
        <button onclick="addVolunteer()">Add Volunteer</button>
        <div id="volunteer-list">Loading...</div>
    </section>

    <!-- ACCOUNT -->
    <section id="account" class="section">
        <h2>ğŸ‘¤ Account & App Info</h2>

        <div class="account-box">
            <h3>About Flood Guard</h3>
            <p>Flood Guard is an AI-powered flood awareness and rescue support system. It combines weather data, risk prediction, community reports, and emergency tools to help save lives.</p>
            <ul>
                <li>âœ” Real-time risk awareness</li>
                <li>âœ” Offline-ready reports & history</li>
                <li>âœ” SOS and rescue contacts</li>
                <li>âœ” Community volunteers support</li>
            </ul>
        </div>

        <div class="account-box">
            <h3>FAQ</h3>
            <details>
                <summary>Does the app work offline?</summary>
                <p>Yes, it caches last weather, shelters, and stores your reports & history locally. SOS via SMS/phone still works without internet.</p>
            </details>
            <details>
                <summary>Is my location shared?</summary>
                <p>Your location is only used on your device and in your SOS/share messages that you trigger. It is not uploaded to any central server by default.</p>
            </details>
            <details>
                <summary>Is this an official government app?</summary>
                <p>This is a prototype designed to align with NDMA/NDRF style guidelines and can be integrated with official systems.</p>
            </details>
        </div>

        <div class="account-box">
            <h3>Terms & Privacy</h3>
            <p>By using Flood Guard, you agree that:</p>
            <ul>
                <li>ğŸ“ App may access your GPS to show risk & shelters.</li>
                <li>ğŸ†˜ SOS messages are sent only when you trigger them.</li>
                <li>ğŸ” No user data is sold or used for advertising.</li>
                <li>âš  This app supports emergency awareness but does not replace official agencies.</li>
            </ul>
        </div>
    </section>

</main>

<footer>
    <p>Â© 2025 Flood Guard | Disaster Safety Prototype</p>
</footer>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="js/app.js"></script>
</body>
</html>
