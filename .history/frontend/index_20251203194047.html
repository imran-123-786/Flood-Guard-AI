<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flood Guard â€“ Official Flood Safety System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
</head>
<body>

<!-- Background Video -->
<video id="bg-video" autoplay muted loop playsinline preload="auto">
    <source src="video/rain_background.mp4" type="video/mp4">
</video>
<div id="video-overlay"></div>

<header>
    <div class="app-title">ğŸŒŠ Flood Guard</div>
    <div class="top-nav">
        <div class="nav-menu">
            <button onclick="showSection('dashboard')" class="active">Dashboard</button>
            <button onclick="showSection('alerts')">Alerts</button>
            <button onclick="showSection('prediction')">Prediction</button>
            <button onclick="showSection('shelter')">Shelter</button>
            <button onclick="showSection('route')">Route</button>
            <button onclick="showSection('radar')">Radar</button>
            <button onclick="showSection('report')">Report</button>
            <button onclick="showSection('rescue')">Rescue</button>
            <button onclick="showSection('history')">History</button>
            <button onclick="showSection('community')">Community</button>
            <button onclick="showSection('account')">Account</button>
        </div>
    </div>
</header>

<main>

    <!-- DASHBOARD -->
    <section id="dashboard" class="section active">
        <h2>ğŸ“ Live Dashboard</h2>
        <p><strong>Location:</strong> <span id="user-location">Detecting...</span></p>

        <div class="status-cards">
            <div class="card"><strong>Temperature</strong><p id="temp">--Â°C</p></div>
            <div class="card"><strong>Rainfall</strong><p id="rain">-- mm</p></div>
            <div class="card"><strong>Humidity</strong><p id="humidity">--%</p></div>
            <div class="card"><strong>Battery</strong><p id="battery-status">--%</p></div>
        </div>

        <div class="map-container">
            <h3>ğŸ—º Flood Map</h3>
            <div id="map"></div>
        </div>

        <div class="risk-indicator">
            <h3>Flood Risk Level: <span id="risk-text">Loading...</span></h3>
            <div id="risk-color"></div>
        </div>
    </section>

    <!-- ALERTS -->
    <section id="alerts" class="section">
        <h2>ğŸš¨ Live Alerts</h2>
        <div id="alerts-container">
            <p>Alerts will be generated based on AI and reports.</p>
        </div>
    </section>

    <!-- AI PREDICTION -->
    <section id="prediction" class="section">
        <h2>ğŸ¤– AI Flood Prediction</h2>
        <button onclick="runPrediction()">Run Prediction</button>
        <p><strong>Result:</strong> <span id="predicted-level">--</span></p>
    </section>

    <!-- SHELTERS -->
    <section id="shelter" class="section">
        <h2>ğŸš Safe Shelters Near You</h2>
        <div id="shelter-list">Loading...</div>
    </section>

    <!-- SAFE ROUTE -->
    <section id="route" class="section">
        <h2>ğŸš— Safe Route</h2>
        <button id="find-route">Find Safe Route</button>
        <p id="route-result">Waiting...</p>
    </section>

    <!-- RADAR -->
    <section id="radar" class="section">
        <h2>ğŸ›° Weather Radar</h2>
        <iframe src="https://www.rainviewer.com/map.html" style="width:100%; height:400px; border:none;"></iframe>
    </section>

    <!-- REPORT -->
    <section id="report" class="section">
        <h2>ğŸ“ Report Flood Situation</h2>
        <textarea id="report-text" placeholder="Describe flood, blockage, damages..."></textarea>
        <button onclick="submitReport()">Submit Report</button>
    </section>

    <!-- RESCUE -->
    <section id="rescue" class="section">
        <h2>ğŸ†˜ Emergency Rescue</h2>
        <button onclick="triggerSOS()" class="sos-btn">ğŸš¨ SOS</button>
        <div class="contact-list">
            <p>ğŸš‘ Ambulance: 108</p>
            <p>ğŸ‘® Police: 100</p>
            <p>ğŸ”¥ Fire: 101</p>
        </div>
    </section>

    <!-- HISTORY -->
    <section id="history" class="section">
        <h2>ğŸ“„ Activity Log</h2>
        <div id="history-data">No history yet.</div>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="section">
        <h2>â¤ï¸ Volunteer Network</h2>
        <button onclick="addVolunteer()">Add Volunteer</button>
        <div id="volunteer-list"></div>
    </section>

    <!-- ACCOUNT (FINAL COMPLETED VERSION) -->
    <section id="account" class="section">
        <h2>ğŸ‘¤ Account & Settings</h2>

        <!-- LOGIN AREA -->
        <div id="login-section">
            <h3>Login / Register</h3>

            <label>Email:</label>
            <input type="email" id="email-input" placeholder="Enter Email">
            <input type="password" id="email-pass" placeholder="Password">
            <button onclick="emailLogin()">Login with Email</button>

            <hr>

            <label>Phone Number:</label>
            <input type="tel" id="phone-input" placeholder="+91XXXXXXXXXX">
            <button onclick="sendOTP()">Send OTP</button>

            <input id="otp-input" placeholder="Enter OTP" style="display:none;">
            <button id="verify-otp-btn" onclick="verifyOTP()" style="display:none;">Verify OTP</button>
        </div>

        <!-- PROFILE -->
        <div id="profile-section" style="display:none;">
            <h3>Your Profile</h3>

            <img id="profile-img" src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
                style="width:120px;height:120px;border-radius:50%;display:block;margin:auto;">
            <button onclick="changeProfile()">Change Picture</button>

            <p><strong>Account:</strong> <span id="logged-user-contact"></span></p>

            <button onclick="logout()" style="background:#900;">Logout</button>
        </div>

        <hr>

        <!-- SETTINGS -->
        <h3>âš™ App Settings</h3>
        <button onclick="toggleTheme()">ğŸŒ“ Dark / Light Mode</button>
        <button onclick="shareApp()">ğŸ”— Share App</button>
        <button onclick="window.open//forms.gle/3oA9x8DUMMYfeedback', '_blank')">
    â­ Rate Us
</button>

        <hr>

        <!-- FEEDBACK -->
        <h3>ğŸ’¬ Feedback</h3>
        <textarea id="feedback-text" placeholder="Write feedback..."></textarea>
        <button onclick="submitFeedback()">Send Feedback</button>

        <hr>

        <!-- HELP -->
        <h3>â„¹ About App</h3>
        <p>Flood Guard uses real-time weather, AI prediction, shelter networks, and rescue automation.</p>

        <ul>
            <li>âœ” Offline emergency backup</li>
            <li>âœ” Government-ready system</li>
            <li>âœ” GPS-based shelters & emergency tools</li>
        </ul>

        <hr>

        <!-- FAQ -->
        <h3>â“ FAQ</h3>

        <details><summary>Does it work offline?</summary><p>Yes â€” SOS, reports & cached data still work.</p></details>
        <details><summary>Is data private?</summary><p>Your device stores data. Nothing is uploaded.</p></details>
        <details><summary>Can I use outside India?</summary><p>Yes â€” but Indian shelters are optimized.</p></details>

        <hr>

        <!-- TERMS -->
        <h3>ğŸ“œ Terms & Privacy</h3>
        <p>By continuing, you accept that this app assists in emergencies but does not replace official response agencies.</p>
    </section>
</main>

<footer>
    <p>Â© 2025 Flood Guard | Emergency Safety System</p>
</footer>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="js/app.js"></script>
</body>
</html>
