<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flood Guard â€“ Official Flood Safety System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
</head>
<body>

<header>
    <div class="app-title">ğŸŒŠ Flood Guard</div>
    <div class="top-nav">
        <div class="nav-menu">
            <button onclick="showSection('dashboard')" class="active">Dashboard</button>
            <button onclick="showSection('alerts')">Alerts</button>
            <button onclick="showSection('prediction')">Prediction</button>
            <button onclick="showSection('shelter')">Shelter</button>
            <button onclick="showSection('route')">Route</button>
            <button onclick="showSection('radar')">Radar</button>
            <button onclick="showSection('report')">Report</button>
            <button onclick="showSection('rescue')">Rescue</button>
            <button onclick="showSection('history')">History</button>
            <button onclick="showSection('community')">Community</button>
            <button onclick="showSection('account')">Account</button>
        </div>
    </div>
</header>

<main>

<!-- DASHBOARD (Final Version) -->
<section id="dashboard" class="section active">

    <!-- Background video only here -->
    <div class="video-wrapper">
        <video id="dashboard-video" autoplay muted loop playsinline>
            <source src="video/rain_background.mp4" type="video/mp4">
        </video>
    </div>

    <div class="gov-header">
        <p>Government of India | National Disaster Response System</p>
        <span class="update-time">Last Updated: <span id="last-updated">--</span></span>
    </div>

    <div id="alert-banner" class="alert-banner warning">
        <strong>âš  Weather Alert:</strong>
        <span id="alert-text">Monitoring real-time conditions...</span>
    </div>

    <div class="location-box">
        <h3>ğŸ“ Current Location</h3>
        <p id="user-location">Detecting...</p>
    </div>

    <div class="summary-box">
        <h3>ğŸ›‘ Flood Risk Level</h3>
        <div id="risk-meter">--%</div>
        <p id="risk-label">Calculating...</p>
    </div>

    <div class="status-cards">
    <div class="card gov-card"><strong>ğŸŒ¡ Temp</strong><p id="temp">--Â°C</p></div>
    <div class="card gov-card"><strong>ğŸ’§ Humidity</strong><p id="humidity">--%</p></div>
    <div class="card gov-card"><strong>ğŸŒ§ Rainfall</strong><p id="rain">-- mm</p></div>
    <div class="card gov-card"><strong>ğŸ’¨ Wind</strong><p id="wind">-- km/h</p></div>
    <div class="card gov-card"><strong>ğŸ”‹ Battery</strong><p id="battery-status">--%</p></div>
</div>


    <div class="quick-actions">
        <button onclick="triggerSOS()">ğŸš¨ SOS</button>
        <button onclick="showSection('shelter')">ğŸš Shelters</button>
        <button onclick="showSection('route')">ğŸš— Safe Route</button>
        <button onclick="showSection('radar')">ğŸ›° Radar</button>
    </div>
</div> <!-- quick actions -->
<div id="battery-warning" class="alert-banner high" style="display:none;">
    ğŸ”‹ Low Battery: Power-Saver Mode Enabled to conserve resources.
</div>


    <div class="map-container">
        <h3>ğŸ—ºï¸ Flood Map</h3>
        <div id="map"></div>
    </div>

    <div class="info-box">
        <h3>â„¹ï¸ Safety Instructions</h3>
        <ul>
            <li>âœ” Avoid waterlogged roads and bridges.</li>
            <li>âœ” Keep emergency kit, documents, and chargers ready.</li>
            <li>âœ” Stay connected to alerts and official announcements.</li>
            <li>âœ” Help elderly, children, and disabled persons nearby.</li>
        </ul>
    </div>

</section>


<!-- OTHER TABS STAY SAME -->

<section id="alerts" class="section">
    <h2>ğŸš¨ Flood Alerts</h2>
    <div id="alerts-container">
        <p>Alerts will appear here based on AI prediction and backend data.</p>
    </div>
</section>

<section id="prediction" class="section">
    <h2>ğŸ¤– AI Model Prediction</h2>
    <button onclick="runPrediction()">Analyze Flood Risk</button>
    <p><strong>Prediction:</strong> <span id="predicted-level">--</span></p>
</section>

<section id="shelter" class="section">
    <h2>ğŸš Nearby Shelters</h2>
    <div id="shelter-list">Loading...</div>
</section>

<section id="route" class="section">
    <h2>ğŸš— Safe Route</h2>
    <button id="find-route">Find Safe Route</button>
    <p id="route-result">--</p>
</section>

<section id="radar" class="section">
    <h2>ğŸ›° Weather Radar</h2>
    <iframe id="radar-map" src="https://www.rainviewer.com/map.html" style="width:100%; height:400px;"></iframe>
</section>

<section id="report" class="section">
    <h2>ğŸ“ Report Flood</h2>
    <textarea id="report-text"></textarea>
    <button onclick="submitReport()">Submit</button>
</section>

<section id="rescue" class="section">
    <h2>ğŸ†˜ Emergency</h2>
    <button onclick="triggerSOS()" class="sos-btn">ğŸš¨ SOS</button>
</section>

<section id="history" class="section">
    <h2>ğŸ“„ Activity Log</h2>
    <div id="history-data">No data yet.</div>
</section>

<section id="community" class="section">
    <h2>â¤ï¸ Community Network</h2>
    <div id="volunteer-list">Loading...</div>
</section>

<section id="account" class="section">
    <h2>ğŸ‘¤ Account & Settings</h2>
    <!-- (Your previous account UI retained as-is) -->
</section>

</main>

<footer>
    <p>Â© 2025 Flood Guard | Govt Safety Prototype</p>
</footer>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="js/app.js"></script>

</body>
</html>
