<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flood Guard â€“ Official Flood Safety System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
</head>
<body>

<!-- ğŸ”¹ ADDED VIDEO BACKGROUND -->
<video id="bg-video" autoplay muted loop playsinline>
    <source src="video/rain_background.mp4" type="video/mp4">
</video>
<div id="video-overlay"></div>
<!-- ğŸ”¹ END VIDEO -->

<!-- HEADER -->
<header>
    <nav class="top-nav">
        <h1 class="app-title">ğŸŒŠ Flood Guard</h1>
        <div class="nav-menu">
            <button onclick="showSection('dashboard')" class="active">Dashboard</button>
            <button onclick="showSection('alerts')">Alerts</button>
            <button onclick="showSection('prediction')">Prediction</button>
            <button onclick="showSection('shelter')">Shelter</button>
            <button onclick="showSection('route')">Route</button>
            <button onclick="showSection('radar')">Radar</button>
            <button onclick="showSection('report')">Report</button>
            <button onclick="showSection('rescue')">Rescue</button>
            <button onclick="showSection('history')">History</button>
            <button onclick="showSection('community')">Community</button>
            <button onclick="showSection('account')">Account</button>
        </div>
    </nav>
</header>

<!-- MAIN CONTENT -->
<main>

    <!-- DASHBOARD -->
    <section id="dashboard" class="section active">
        <h2>ğŸ“ Live Dashboard</h2>
        <p><strong>Location:</strong> <span id="user-location">Detecting...</span></p>

        <div class="status-cards">
            <div class="card"><strong>Temperature</strong><p id="temp">--Â°C</p></div>
            <div class="card"><strong>Rainfall</strong><p id="rain">-- mm</p></div>
            <div class="card"><strong>Humidity</strong><p id="humidity">--%</p></div>
            <div class="card"><strong>Battery</strong><p id="battery-status">--%</p></div>
        </div>

        <div class="map-container">
            <h3>ğŸ—º Flood Map</h3>
            <div id="map"></div>
        </div>

        <div class="risk-indicator">
            <h3>Flood Risk Level: <span id="risk-text">Loading...</span></h3>
            <div id="risk-color"></div>
        </div>
    </section>

    <!-- ALERTS -->
    <section id="alerts" class="section">
        <h2>ğŸš¨ Flood Alerts</h2>
        <div id="alerts-container">Fetching latest alerts...</div>
    </section>

    <!-- AI PREDICTION -->
    <section id="prediction" class="section">
        <h2>ğŸ¤– AI Model Prediction</h2>
        <p>Your ML model will predict risk using real-time + historical data.</p>
        <button onclick="runPrediction()">Run Prediction</button>
        <p><strong>Predicted Level:</strong> <span id="predicted-level">--</span></p>
    </section>

    <!-- SHELTER -->
    <section id="shelter" class="section">
        <h2>ğŸš Nearby Safe Shelters</h2>
        <p>Based on GPS, updated in real time.</p>
        <div id="shelter-list">Loading...</div>
    </section>

    <!-- SAFE ROUTE -->
    <section id="route" class="section">
        <h2>ğŸš— Safe Route Navigation</h2>
        <button id="find-route">Find Safe Route</button>
        <p id="route-result">Waiting...</p>
    </section>

    <!-- RADAR -->
    <section id="radar" class="section">
        <h2>ğŸ›° Real-Time Weather Radar</h2>
        <iframe id="radar-map" src="https://www.rainviewer.com/map.html" style="width:100%; height:400px;"></iframe>
    </section>

    <!-- REPORT -->
    <section id="report" class="section">
        <h2>ğŸ“ Report Flood Situation</h2>
        <textarea id="report-text" placeholder="Write about flooding, road blockage, damage..."></textarea>
        <button onclick="submitReport()">Submit Report</button>
    </section>

    <!-- RESCUE -->
    <section id="rescue" class="section">
        <h2>ğŸ†˜ Rescue & Emergency</h2>
        <button onclick="triggerSOS()" class="sos-btn">ğŸš¨ SOS Emergency</button>
        <div class="contact-list">
            <p><strong>ğŸš‘ Ambulance:</strong> 108</p>
            <p><strong>ğŸ”¥ Fire:</strong> 101</p>
            <p><strong>ğŸ‘® Police:</strong> 100</p>
        </div>
    </section>

    <!-- HISTORY -->
    <section id="history" class="section">
        <h2>ğŸ“„ Activity History</h2>
        <div id="history-data">No data yet.</div>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="section">
        <h2>â¤ï¸ Community Support</h2>
        <button onclick="addVolunteer()">Add Volunteer</button>
        <div id="volunteer-list">Loading...</div>
    </section>

    <!-- ACCOUNT -->
    <section id="account" class="section">
        <h2>ğŸ‘¤ Account & Settings</h2>
        <!-- (Content unchanged) -->
        <!-- Kept fully as you sent -->
    </section>

</main>

<!-- FOOTER -->
<footer>
    <p>Â© 2025 Flood Guard | Government Prototype System</p>
</footer>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="js/app.js"></script>

</body>
</html>
